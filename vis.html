<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>TITLE</title>

    <!-- Load Bulma from CDN (consider saving it to repository instead) -->
    <!-- https://bulma.io/ -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css">

    <!-- Load Font Awesome 5 (free) icons -->
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>

    <!-- Load d3 -->
    <!-- include d3.js v5 -->
    <script src="https://d3js.org/d3.v5.min.js"></script>

    <!-- include d3.js modules -->
    <script src="https://d3js.org/d3-array.v2.min.js"></script>
    <script src="https://d3js.org/d3-fetch.v1.min.js"></script>
    <script src="https://d3js.org/d3-time.v1.min.js"></script>
    <script src="https://d3js.org/d3-time-format.v2.min.js"></script>
    <script src="https://d3js.org/d3-selection.v1.min.js"></script>
    <script src="https://d3js.org/d3-collection.v1.min.js"></script>
    <script src="https://d3js.org/d3-color.v1.min.js"></script>
    <script src="https://d3js.org/d3-format.v1.min.js"></script>
    <script src="https://d3js.org/d3-interpolate.v1.min.js"></script>
    <script src="https://d3js.org/d3-scale.v2.min.js"></script>
    <script src="https://d3js.org/d3-axis.v1.min.js"></script>
    <script src="https://d3js.org/d3-color.v1.min.js"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>

    <!-- My CSS -->
    <link rel="stylesheet" href="style.css">

  </head>
  <body>

  <!-- Page header -->
  <!-- https://bulma.io/documentation/layout/hero/ -->
  <section class="hero is-primary is-bold">
    <div class="hero-body">
      <div class="container">
        <h1 class="title">College Mobility Visualization</h1>
        <h2 class="subtitle">By Eve Matson for CS 360 'Data Visualization'</h2>
      </div>
    </div>
  </section>
  <!-- End page header -->

  <!-- Page navigation -->
  <!-- https://bulma.io/documentation/components/navbar/ -->
  <nav class="navbar is-dark" role="navigation" aria-label="main navigation">
    <div class="container">
      <div class="navbar-brand">
        <!--        <a class="navbar-item" href="index.html">-->
        <!--          <span class="icon"><i class="fas fa-home"></i></span>-->
        <!--          <span>Home</span>-->
        <!--        </a>-->

        <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="main-menu">
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
        </a>
      </div>

      <div id="main-menu" class="navbar-menu has-text-weight-medium">
        <!-- Left navbar items -->
        <div class="navbar-start">
          <div class="navbar-item has-dropdown is-hoverable">
            <a class="navbar-link"  href="index.html">
              Info
            </a>

            <div class="navbar-dropdown">
              <a class="navbar-item" href="index.html#about" title="About the Assignment">
                <span class="icon"><i class="far fa-file-alt"></i></span>
                <span>Assignment</span>
              </a>
              <a class="navbar-item" href="index.html#data" title="Dataset Info">
                <span class="icon"><i class="fas fa-table"></i></span>
                <span>Dataset</span>
              </a>
              <a class="navbar-item" href="index.html#wrangling" title="Dataset Info">
                <span class="icon"><i class="fas fa-wrench"></i></span>
                <span>Wrangling</span>
              </a>
              <a class="navbar-item" href="index.html#bio" title="About Me">
                <span class="icon"><i class="fas fa-info-circle"></i></span>
                <span>About me</span>
              </a>
              <!--          <a class="navbar-item is-active"  href="1.html">-->
              <!--            <span class="icon"><i class="fas fa-chart-line"></i></span>-->
              <!--            <span>Domestic vs. International</span>-->
              <!--          </a>-->
              <!--          <a class="navbar-item"  href="2.html">-->
              <!--            <span class="icon"><i class="fas fa-chart-area"></i></span>-->
              <!--            <span>Intl. by Region</span>-->
              <!--          </a>-->

              <!--          &lt;!&ndash; <hr class="navbar-divider"> &ndash;&gt;-->

              <!--          <a class="navbar-item"  href="3.html">-->
              <!--            <span class="icon"><i class="fas fa-chart-bar"></i></span>-->
              <!--            <span>Terminal Growth</span>-->
              <!--          </a>-->
              <!-- <a class="navbar-item">
                <span class="icon"><i class="fas fa-chart-pie"></i></span>
                <span>Pie Chart</span>
              </a> -->
            </div>
          </div>
          <a class="navbar-item" href="vis.html" title="visualization">
            <span class="icon"><i class="fas fa-chart-line"></i></span>
            <span>Visualization</span>
          </a>

        </div>

        <!-- Right navbar items -->
        <div class="navbar-end">
          <a class="navbar-item" href="grade.html" title="About">
            <span class="icon"><i class="fas fa-tasks"></i></span>
            <span>Grade</span>
          </a>
        </div>
      </div>

      <!--      <a class="navbar-item" href="index.html#about" title="About">-->
      <!--        <span class="icon"><i class="fas fa-info-circle"></i></span>-->
      <!--        <span>About Me</span>-->
      <!--      </a>-->

    </div>
  </nav>
  <!-- End page navigation -->

  <section class="section">
    <div class="container">

      <!-- Begin page content -->
      <div class="content page-content">
        <h1 class="title">
          VIS TITLE <!-- TODO-->
        </h1>
        <p class="subtitle">

          A comparison of income outcomes for students from different economic backgrounds, across different college tiers
        </p>

<!--        <h3>D3 Implementation</h3>-->
        <svg id="vis_svg" class="visualization">
          <g id='test-rectangles'></g>
          <g id="axes"></g>
          <g id="drawing"></g>
          <g id="legends"></g>
          <g id="titles"></g>
        </svg>
        <script src="vis.js"></script>

<!--        DONE For each visualization you create, you must also include the following writeups:<br>-->

<!--        DONE How to interpret your visualization, indicating how the data is encoded. For example, “passenger count is encoded by the length of the bar, so longer bars represent higher passenger count.”<br>-->

<!--        DONE Any per-visualization data wrangling you performed on the original dataset, and how you wrangled the data (e.g. Tableau, Excel, using the website interface). Link to the wrangled data when possible.<br>-->

<!--        DONE One conclusion you can make about the data using your visualization. The conclusion should ideally be something that a simple statistic could not replace. For example, “airline X has the highest passenger count over this time period” is a simple conclusion that will meet this requirement, but may not earn a plus-level letter grade.<br>-->

        <h3>About</h3>
        <p>This is a small multiples parallel coordinates chart that compares different college tiers' impact on their students' economic outcomes, and examines in what ways this depends on the students' economic backgrounds.</p>
        <p>Here, <strong>each line represents a cohort of students from a certain economic background, going to a certain college</strong>. Infomation about their cohort is encoded in the following way : </p>
        <ul>
          <li><strong>Color of line</strong> - Economic background, determined by their parents' income quintile. Yellow lines represent the most wealthy backgrounds, and purple lines represent the least wealthy backgrounds. See legend.</li>
          <li><strong>Height of line on axis</strong> - Percent of cohort who end up in that income quintile. Higher values meaan higher percents, and axes further to the right are wealthier.</li>
          <li><strong>Location of subplot</strong> - Each subplot is labeled with the tier of college it represents. Subplots are broadly grouped near similar tiers of school for ease of comparison.</li>
<!--          <li>Opacity of line - Representation of that economic background in a college's student body, determined by percentage of students at that college who come from that same economic background. A more prominent line means a greater percentage of students at that college come from that same background, and a fainter line means students from that background are underrepresented at that college.</li>-->
        </ul>
        <p>Broadly, tiers where <strong>all the lines are close together</strong> regardless of their color demonstrate student outcomes uninfluenced by economic background, and tiers where the <strong>lines separate based on color</strong> show student outcomes that differ based on economic background.</p>
        <p>Also, for a any line or group of lines, a <strong>positive trend</strong> (lower on the left ond higher on the right) shows that students in that cohort are more likely to end up in a wealthy income quintile.
          A <strong>negative trend</strong> (higher on the left and lower on the right) shows that students in that cohort are more likely to end up in a less wealthy income quintile.</p>

        <h3>Data Wrangling</h3>
        <p>After downloading the <a href="https://opportunityinsights.org/data/?geographic_level=0&topic=0&paper_id=536#resource-listing"><em>"Baseline Cross-Sectional Estimates of Child and Parent Income Distributions by College"</em> dataset</a> from Opportinity Insights's website, I used Javascript to split each college (row in the original dataset) into five rows, one per parent quintile, and filter out columns I didn't need.
        </p>

        <h3>Conclusions</h3>
        <p>The visualization was designed to support the study's second finding, and seems to do so. The authors of the study write:</p>
          <blockquote>Second, children from low- and high-income families have similar earnings outcomes conditional on the college they attend, indicating that low-income students are not mismatched at selective colleges.</blockquote>
        In this visualization, higher college tiers (especially "Ivy Plus") have plots where the lines are all tightly bound together, regardless of what quintile of economic background they represent.
        <p>This supports the finding by showing that students who attend elite schools can expect similar outcomes regardless of their backgrounds.</p><br>
        <p>Additionally, in this visualization the plots of lower tier schools (especially "Two-Year (Public + Private) show lines clearly separated by color.
          Purple and blue lines mostly peak an the left side of the graph, and yellow and light green lines mostly peak on the right side of the graph.
          This shows that students who attend these lower-tier colleges have very different economic outcomes depending on their background.
          Students who go to these schools often end up wealthy when they come from wealthy backgrounds, but often end up in the working class when they come from working class backgrounds.</p>


        <h3>Prototypes</h3>
        <p>I used <a href="https://rawgraphs.io">RawGraphs</a> for initial prototyping, then moved to D3 to implement my final visualization.
          I was unable to filter rows out of the dataset using RawGraphs, so I changed the color for unwanted lines to be white.
          This helped emphasize the data I wanted to see, but then it became partially obscured by a plethora of annoying white lines.</p>
          <p>I also intended to display multiple lines from the same college on the same graph, each representing different parent income quintiles, but RawGraphs wouldn't allow me to do this without doing some serious wrangling.
          Here I have displayed two prototype graphs I made, each showing two college tiers but only data for one parent income quintile.</p><br>

        <h5>For parents from bottom and middle quintiles (left and right, respectively:</h5>
        <img src="Parallel%20Coordinates%20Prototpyes/ivy%20vs%20nonselective%204y%20kqXcondparq1.svg" alt="Parents from bottom quintile prototype" width="400px"/>
        <img src="Parallel%20Coordinates%20Prototpyes/ivy%20vs%20nonselective%204y%20kqXcondparq3.svg" alt="Parents from middle quintile prototype" width="400px" style="margin-left: 50px"/><br>
      </div>
      <!-- End page content -->
    </div>
  </section>

  <!-- Page footer -->
<!--  <div class="false-footer"></div>-->
  <!-- https://bulma.io/documentation/layout/footer/ -->
  <footer class="footer smaller-footers-are-better">
    <div class="content has-text-centered is-size-7">
      <p>
        <a href="https://github.com/usf-cs360-spring2020/template-bulma" class="button is-small" style="padding-left: 1em; padding-right: 1em;">
          <i class="fab fa-github-alt"></i>&nbsp;<strong>Github</strong>
        </a>

        <a href="https://fontawesome.com/" class="button is-small" style="padding-left: 1em; padding-right: 1em;">
          <i class="fab fa-font-awesome"></i>&nbsp;<strong>FontAwesome</strong>
        </a>

        <a href="https://bulma.io" class="button is-small">
          <img src="https://bulma.io/images/made-with-bulma--semiblack.png" alt="Made with Bulma" width="128" height="24">
        </a>
      </p>
    </div>
  </footer>
  <!-- End page footer -->

  <!-- Mobile menu responsiveness -->
  <!-- https://bulma.io/documentation/components/navbar/ -->
  <script>
  document.addEventListener('DOMContentLoaded', () => {
    const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

    if ($navbarBurgers.length > 0) {
      $navbarBurgers.forEach( el => {
        el.addEventListener('click', () => {
          const target = el.dataset.target;
          const $target = document.getElementById(target);
          el.classList.toggle('is-active');
          $target.classList.toggle('is-active');
        });
      });
    }
  });
  </script>
  <!-- End mobile menu responsiveness -->
  </body>

</html>
